(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-401f20ba"],{3452:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[e._e(),r("el-form-item",{attrs:{label:"证件照",prop:"avatar","label-width":e.formLabelWidth}},[r("image-upload",{attrs:{limit:e.imgLimit},model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form.avatar"}})],1),r("el-form-item",{attrs:{label:"简历附件",prop:"vitaeAttach","label-width":e.formLabelWidth}},[r("file-upload",{attrs:{limit:1},model:{value:e.form.vitaeAttach,callback:function(t){e.$set(e.form,"vitaeAttach",t)},expression:"form.vitaeAttach"}})],1),r("el-form-item",{attrs:{label:"姓名",prop:"personName","label-width":e.formLabelWidth}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.personName,callback:function(t){e.$set(e.form,"personName",t)},expression:"form.personName"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"personEmail","label-width":e.formLabelWidth}},[r("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.form.personEmail,callback:function(t){e.$set(e.form,"personEmail",t)},expression:"form.personEmail"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"personPhone","label-width":e.formLabelWidth}},[r("el-input",{attrs:{disabled:"",autocomplete:"off"},model:{value:e.form.personPhone,callback:function(t){e.$set(e.form,"personPhone",t)},expression:"form.personPhone"}})],1),r("el-form-item",{attrs:{label:"年龄",prop:"age","label-width":e.formLabelWidth}},[r("el-date-picker",{attrs:{type:"year",placeholder:"选择出生年份"},on:{change:e.changeAge},model:{value:e.form.birth,callback:function(t){e.$set(e.form,"birth",t)},expression:"form.birth"}}),r("el-divider",{attrs:{direction:"vertical"}}),e.form.birth>0||e.form.age?[e._v(e._s(e.form.age)+" 岁")]:e._e()],2),r("el-form-item",{attrs:{label:"性别","label-width":e.formLabelWidth}},[r("el-radio-group",{model:{value:e.form.personGender,callback:function(t){e.$set(e.form,"personGender",t)},expression:"form.personGender"}},e._l(e.dict.type.sys_user_sex,(function(t){return r("el-radio",{key:t.value,attrs:{disabled:"",label:t.value}},[e._v(e._s(t.label)+" ")])})),1)],1),r("el-form-item",{attrs:{label:"现居住地","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"现居住地"},model:{value:e.form.personAddress,callback:function(t){e.$set(e.form,"personAddress",t)},expression:"form.personAddress"}},e._l(e.dict.type.city_type,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"户口所在地","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"户口所在地",clearable:""},model:{value:e.form.personHousehold,callback:function(t){e.$set(e.form,"personHousehold",t)},expression:"form.personHousehold"}},e._l(e.dict.type.city_type,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"最高学历","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"最高学历"},model:{value:e.form.personEduMax,callback:function(t){e.$set(e.form,"personEduMax",t)},expression:"form.personEduMax"}},e._l(e.dict.type.vitae_edu_max,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"学习形式","label-width":e.formLabelWidth}},[r("el-radio-group",{model:{value:e.form.personEduForm,callback:function(t){e.$set(e.form,"personEduForm",t)},expression:"form.personEduForm"}},e._l(e.dict.type.vitae_edu_form,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+" ")])})),1)],1),r("el-form-item",{attrs:{label:"学校名称","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"学校名称"},model:{value:e.form.personEduName,callback:function(t){e.$set(e.form,"personEduName",t)},expression:"form.personEduName"}},e._l(e.dict.type.edu_type,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"专业名称","label-width":e.formLabelWidth}},[r("el-radio-group",{model:{value:e.form.personEduMajor,callback:function(t){e.$set(e.form,"personEduMajor",t)},expression:"form.personEduMajor"}},e._l(e.dict.type.vitae_edu_major,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+" ")])})),1)],1),r("el-form-item",{attrs:{label:"现从事职业","label-width":e.formLabelWidth}},[r("el-radio-group",{model:{value:e.form.intentionNowjob,callback:function(t){e.$set(e.form,"intentionNowjob",t)},expression:"form.intentionNowjob"}},e._l(e.dict.type.sys_post_type,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+" ")])})),1)],1),r("el-form-item",{attrs:{label:"求职状态","label-width":e.formLabelWidth}},[r("el-radio-group",{model:{value:e.form.intentionStatus,callback:function(t){e.$set(e.form,"intentionStatus",t)},expression:"form.intentionStatus"}},e._l(e.dict.type.vitae_intention_status,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label)+" ")])})),1)],1),r("el-form-item",{attrs:{label:"现月薪","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"现月薪"},model:{value:e.form.intentionNowsalary,callback:function(t){e.$set(e.form,"intentionNowsalary",t)},expression:"form.intentionNowsalary"}},e._l(e.dict.type.vitae_intention_salary,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"期望月薪","label-width":e.formLabelWidth}},[r("el-select",{attrs:{placeholder:"期望月薪"},model:{value:e.form.intentionWillsalary,callback:function(t){e.$set(e.form,"intentionWillsalary",t)},expression:"form.intentionWillsalary"}},e._l(e.dict.type.vitae_intention_salary,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"专业技能",prop:"personReview","label-width":e.formLabelWidth}},[r("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.form.personReview,callback:function(t){e.$set(e.form,"personReview",t)},expression:"form.personReview"}})],1),e._l(e.form.practices,(function(t,a){return r("el-form-item",{attrs:{label:"工作经历"+ ++a}},[r("br"),r("el-form-item",{attrs:{label:"公司名称","label-width":e.formLabelWidth}},[r("el-input",{attrs:{placeholder:"公司名称"},model:{value:t.practiceName,callback:function(r){e.$set(t,"practiceName",r)},expression:"practice.practiceName"}})],1),r("el-form-item",{attrs:{label:"工作岗位","label-width":e.formLabelWidth}},[r("el-input",{attrs:{placeholder:"工作岗位"},model:{value:t.practicePost,callback:function(r){e.$set(t,"practicePost",r)},expression:"practice.practicePost"}})],1),r("el-form-item",{attrs:{label:"工作内容","label-width":e.formLabelWidth}},[r("el-input",{attrs:{type:"textarea",placeholder:"工作内容"},model:{value:t.practiceInfo,callback:function(r){e.$set(t,"practiceInfo",r)},expression:"practice.practiceInfo"}})],1),r("el-form-item",{attrs:{label:"起止时间","label-width":e.formLabelWidth}},[r("el-date-picker",{attrs:{type:"month",placeholder:"开始时间"},model:{value:t.beginTime,callback:function(r){e.$set(t,"beginTime",r)},expression:"practice.beginTime"}}),r("el-date-picker",{attrs:{type:"month",placeholder:"结束时间"},model:{value:t.endTime,callback:function(r){e.$set(t,"endTime",r)},expression:"practice.endTime"}})],1),1!==a?r("el-button",{on:{click:function(r){return r.preventDefault(),e.removePractice(t)}}},[e._v("删除")]):e._e()],1)})),r("el-button",{on:{click:e.addPractice}},[e._v("➕添加工作经历")])],2),r("div",{staticClass:"demo-drawer__footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("更新")])],1)],1)},o=[];r("b0c0"),r("14d9"),r("a434"),r("ac1f"),r("00b4"),r("d9e2");function n(e){return/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e)}var l=function(e,t,r){n(t)?r():r(new Error("邮箱格式错误"))};function i(e){return/^[1][3,4,5,7,8][0-9]{9}$/.test(e)}var s=function(e,t,r){i(t)?r():r(new Error("手机格式错误"))},u=r("8268"),c=r("0835"),d=r("c0c77"),m=r("8fc7"),f={dicts:["sys_post_type","sys_user_sex","vitae_edu_max","vitae_edu_form","vitae_edu_major","vitae_intention_status","vitae_intention_salary","city_type","edu_type"],components:{ImageUpload:c["a"]},created:function(){var e=this;Object(d["g"])().then((function(t){e.form.personPhone=t.data.phonenumber,e.form.personEmail=t.data.email,e.form.personGender=t.data.sex,t.data.phonenumber?Object(u["c"])(t.data.phonenumber).then((function(t){e.form.id=t.data.id,e.form.avatar=t.data.avatar,e.form.vitaeAttach=t.data.vitaeAttach,e.form.personName=t.data.personName,e.form.personAddress=t.data.personAddress,e.form.personHousehold=t.data.personHousehold,e.form.personEduMajor=t.data.personEduMajor,e.form.personEduMax=t.data.personEduMax,e.form.personEduForm=t.data.personEduForm,e.form.personEduName=t.data.personEduName,e.form.personReview=t.data.personReview,e.form.intentionNowjob=t.data.intentionNowjob,e.form.intentionStatus=t.data.intentionStatus,e.form.intentionNowsalary=t.data.intentionNowsalary,e.form.intentionWillsalary=t.data.intentionWillsalary,e.form.age=t.data.age,e.form.practices=t.data.practices})):e.$message.error(m["a"])}))},data:function(){return{imgLimit:1,open:!1,form:{id:void 0,practices:[{value:""}],avatar:void 0,vitaeAttach:void 0,personName:void 0,personEmail:void 0,personPhone:void 0,personGender:void 0,personAddress:"1",personHousehold:"1",personEduMax:"1",personEduForm:"1",personEduName:"1",personEduMajor:"1",personReview:void 0,intentionNowjob:"1",intentionStatus:"1",intentionNowsalary:"1",intentionWillsalary:"1",age:void 0,birth:void 0},title:null,formLabelWidth:"90px",rules:{personName:[{required:!0,message:"姓名不能为空",trigger:"blur"}],personPhone:[{required:!0,message:"手机号不能为空",trigger:"blur"},{validator:s,trigger:"blur"}],personEmail:[{required:!0,message:"邮箱不能为空",trigger:"blur"},{validator:l,trigger:"blur"}],personReview:[{required:!0,message:"专业技能不能为空",trigger:"blur"}]}}},methods:{handleAdd:function(e){this.reset(),this.open=!0,this.title=e.name,this.form.postId=e.postId,this.form.intentionWilljob=e.postType},changeAge:function(){this.form.age=(new Date).getFullYear()-new Date(this.form.birth).getFullYear()},addPractice:function(){this.form.practices.push({value:"",key:Date.now()})},removePractice:function(e){var t=this.form.practices.indexOf(e);-1!==t&&this.form.practices.splice(t,1)},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(u["a"])(e.form).then((function(t){e.$modal.msgSuccess("简历更新成功"),e.open=!1}))}))}}},p=f,b=r("2877"),h=Object(b["a"])(p,a,o,!1,null,null,null);t["default"]=h.exports},8268:function(e,t,r){"use strict";r.d(t,"f",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u}));r("99af");var a=r("b775");function o(e,t){return Object(a["a"])({url:"/recruit/vitae/sendVitaeToPost/".concat(e,"/").concat(t),method:"post"})}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1";return Object(a["a"])({url:"/recruit/vitae/getVitaeByPhone/".concat(e),method:"get"})}function l(e){return Object(a["a"])({url:"/recruit/vitae/list",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/recruit/vitae/getVitaeListByPostId/".concat(e),method:"get"})}function s(e){return Object(a["a"])({url:"/recruit/vitae/getRecruitUserList/".concat(e),method:"get"})}function u(e){return Object(a["a"])({url:"/recruit/vitae/addVitae",method:"post",data:e})}},"8fc7":function(e,t,r){"use strict";r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return l}));var a="5",o="success",n="error",l="请先维护个人信息"},c0c77:function(e,t,r){"use strict";r.d(t,"h",(function(){return n})),r.d(t,"f",(function(){return l})),r.d(t,"a",(function(){return i})),r.d(t,"k",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"i",(function(){return c})),r.d(t,"b",(function(){return d})),r.d(t,"g",(function(){return m})),r.d(t,"l",(function(){return f})),r.d(t,"m",(function(){return p})),r.d(t,"n",(function(){return b})),r.d(t,"e",(function(){return h})),r.d(t,"j",(function(){return v})),r.d(t,"d",(function(){return y}));var a=r("b775"),o=r("c38a");function n(e){return Object(a["a"])({url:"/system/user/list",method:"get",params:e})}function l(e){return Object(a["a"])({url:"/system/user/"+Object(o["e"])(e),method:"get"})}function i(e){return Object(a["a"])({url:"/system/user",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/system/user",method:"put",data:e})}function u(e){return Object(a["a"])({url:"/system/user/"+e,method:"delete"})}function c(e,t){var r={userId:e,password:t};return Object(a["a"])({url:"/system/user/resetPwd",method:"put",data:r})}function d(e,t){var r={userId:e,status:t};return Object(a["a"])({url:"/system/user/changeStatus",method:"put",data:r})}function m(){return Object(a["a"])({url:"/system/user/profile",method:"get"})}function f(e){return Object(a["a"])({url:"/system/user/profile",method:"put",data:e})}function p(e,t){var r={oldPassword:e,newPassword:t};return Object(a["a"])({url:"/system/user/profile/updatePwd",method:"put",params:r})}function b(e){return Object(a["a"])({url:"/system/user/profile/avatar",method:"post",data:e})}function h(e){return Object(a["a"])({url:"/system/user/authRole/"+e,method:"get"})}function v(e){return Object(a["a"])({url:"/system/user/authRole",method:"put",params:e})}function y(){return Object(a["a"])({url:"/system/user/deptTree",method:"get"})}}}]);